<!DOCTYPE html>





<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.9.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    save_scroll: false,
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="GeoServer is an open source server for sharing geospatial data.Designed for interoperability, it publishes data from any major spatial data source using open standards.">
<meta name="keywords" content="GeoServer,GIS">
<meta property="og:type" content="article">
<meta property="og:title" content="Serve raster tiles in GeoServer">
<meta property="og:url" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/index.html">
<meta property="og:site_name" content="Frankie Fan">
<meta property="og:description" content="GeoServer is an open source server for sharing geospatial data.Designed for interoperability, it publishes data from any major spatial data source using open standards.">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-login.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/create-workspace.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/create-store-geotiff.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/create-store.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/create-layer.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/publish-layer.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/layer-preview.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/layer-preview-result.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/error-layer.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/qgis-preview.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/qgis-export.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-qgis-export.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/qgis-style.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/qgis-styled-layer.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/qgis-style-qml.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-style.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-style-sld.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-style1.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-style2.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-preview-color.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/style-preview.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-styles.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-preview-change-style.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-build.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-error.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-angular2.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/leaflet.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/leaflet-wmts.png">
<meta property="og:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/openlayers.png">
<meta property="og:updated_time" content="2019-10-17T01:52:38.547Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Serve raster tiles in GeoServer">
<meta name="twitter:description" content="GeoServer is an open source server for sharing geospatial data.Designed for interoperability, it publishes data from any major spatial data source using open standards.">
<meta name="twitter:image" content="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-login.png">
  <link rel="canonical" href="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Serve raster tiles in GeoServer | Frankie Fan</title>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146443611-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-146443611-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <div class="container sidebar-position-left">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Frankie Fan</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">23</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">4</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">17</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hustakin.github.io/2019/09/09/serve-raster-tiles-in-geoserver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frankie Fan">
      <meta itemprop="description" content="Live for die and let it go.">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frankie Fan">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">Serve raster tiles in GeoServer

            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-09-09 16:23:36" itemprop="dateCreated datePublished" datetime="2019-09-09T16:23:36+10:00">2019-09-09</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-10-17 11:52:38" itemprop="dateModified" datetime="2019-10-17T11:52:38+10:00">2019-10-17</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Best-Practice/" itemprop="url" rel="index"><span itemprop="name">Best Practice</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <html><head></head><body><p><a href="https://github.com/geoserver/geoserver" target="_blank" rel="noopener">GeoServer</a> is an open source server for sharing geospatial data.<br>Designed for interoperability, it publishes data from any major spatial data source using open standards.</p>
<a id="more"></a>

<h2 id="Steps-to-handle-raster-data"><a href="#Steps-to-handle-raster-data" class="headerlink" title="Steps to handle raster data"></a>Steps to handle raster data</h2><h3 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h3><p>Download <a href="http://geoserver.org/download/" target="_blank" rel="noopener">GeoServer</a> and install, or create by a <a href="https://hub.docker.com/r/kartoza/geoserver" target="_blank" rel="noopener">docker container</a></p>
<h3 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h3><p>Login the GeoServer by admin user, the default username/password is admin/geoserver.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-login.png" alt="Login"></p>
<h3 id="Create-a-raster-workspace"><a href="#Create-a-raster-workspace" class="headerlink" title="Create a raster workspace"></a>Create a raster workspace</h3><p><img src="/2019/09/09/serve-raster-tiles-in-geoserver/create-workspace.png" alt="Create workspace"></p>
<h3 id="Select-a-store-datasource"><a href="#Select-a-store-datasource" class="headerlink" title="Select a store datasource"></a>Select a store datasource</h3><p>Here we select GeoTIFF<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/create-store-geotiff.png" alt="Create store geotiff"></p>
<h3 id="Create-a-raster-store"><a href="#Create-a-raster-store" class="headerlink" title="Create a raster store"></a>Create a raster store</h3><p>Here we specify a *.tif file<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/create-store.png" alt="Create store"></p>
<h3 id="Create-a-layer"><a href="#Create-a-layer" class="headerlink" title="Create a layer"></a>Create a layer</h3><p>Create the layer under new created store and the format is <workspace>:<store>, and then publish it<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/create-layer.png" alt="Create layer"></store></workspace></p>
<h3 id="Publish-review"><a href="#Publish-review" class="headerlink" title="Publish review"></a>Publish review</h3><p>Have a review of all the information it reads including the band definitions, and save it<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/publish-layer.png" alt="Publish layer"></p>
<h3 id="Layer-preview"><a href="#Layer-preview" class="headerlink" title="Layer preview"></a>Layer preview</h3><p>Go the the layer preview and find the layer, and try to view it by OpenLayers<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/layer-preview.png" alt="Layer preview"></p>
<h3 id="Layer-preview-result"><a href="#Layer-preview-result" class="headerlink" title="Layer preview result"></a>Layer preview result</h3><p>The geotiff file successfully being processed if we can see the layer<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/layer-preview-result.png" alt="Layer preview result"></p>
<h2 id="Compressed-raster-layer-with-only-grey-band"><a href="#Compressed-raster-layer-with-only-grey-band" class="headerlink" title="Compressed raster layer with only grey band"></a>Compressed raster layer with only grey band</h2><h3 id="The-geotiff-file-failed-being-processed-for-unknown-reason"><a href="#The-geotiff-file-failed-being-processed-for-unknown-reason" class="headerlink" title="The geotiff file failed being processed for unknown reason"></a>The geotiff file failed being processed for unknown reason</h3><p><img src="/2019/09/09/serve-raster-tiles-in-geoserver/error-layer.png" alt="Layer preview result"></p>
<h3 id="Exception-stack-trace"><a href="#Exception-stack-trace" class="headerlink" title="Exception stack trace"></a>Exception stack trace</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.NullPointerException</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2110)</span><br><span class="line">        ......</span><br><span class="line"><a href="#exception" style="font-weight:bold">View the full exception stack trace<sup>1</sup></a></span><br></pre></td></tr></tbody></table></figure>

<h3 id="QGIS-layer-preview"><a href="#QGIS-layer-preview" class="headerlink" title="QGIS layer preview"></a>QGIS layer preview</h3><p>Drag the geotiff file into the QGIS for preview<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/qgis-preview.png" alt="QGIS preview"></p>
<h3 id="QGIS-geotiff-layer-export"><a href="#QGIS-geotiff-layer-export" class="headerlink" title="QGIS geotiff layer export"></a>QGIS geotiff layer export</h3><p>Display the current layer, Select the menu item “Layer-Save as…” and export the geotiff with 4326 crs<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/qgis-export.png" alt="QGIS export"></p>
<h3 id="GeoServer-layer-preview"><a href="#GeoServer-layer-preview" class="headerlink" title="GeoServer layer preview"></a>GeoServer layer preview</h3><p>Modify the store in GeoServer to connect to the new geotiff file, and preview the layer again. It works with no color scheme<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-qgis-export.png" alt="QGIS export preview"></p>
<h3 id="Cause-analysis"><a href="#Cause-analysis" class="headerlink" title="Cause analysis"></a>Cause analysis</h3><p>The error raster geotiff only has one grey band, and the QGIS exported geotiff file is nearly twice the size of the original one.<br>It is a compressed one, and that’s why QGIS produces a bigger size when we save it as another. QGIS does not compress it, hence the new image is bigger. GeoServer doesn’t accept compressed geotiff data.<br>Regarding the GeoServer color problem, It’s because that the style in GeoServer is not well defined.</p>
<h2 id="Define-style-in-GeoServer"><a href="#Define-style-in-GeoServer" class="headerlink" title="Define style in GeoServer"></a>Define style in GeoServer</h2><h3 id="Create-style-in-QGIS"><a href="#Create-style-in-QGIS" class="headerlink" title="Create style in QGIS"></a>Create style in QGIS</h3><ol>
<li>Open QGIS, drag the geotiff file into the QGIS.</li>
<li>Right click on the data layer and select ‘Properties’, then select ‘Style’ on the left side.</li>
<li>Change the render type to ‘Singleband pseudocolor’ and change the style by specifying the color ranges.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/qgis-style.png" alt="QGIS style"></li>
</ol>
<h3 id="Export-style-in-QGIS"><a href="#Export-style-in-QGIS" class="headerlink" title="Export style in QGIS"></a>Export style in QGIS</h3><p>Apply the change to see the new layer. Save the style using the ‘Save Style’ button on the bottom and save as .qml file.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/qgis-styled-layer.png" alt="QGIS styled layer"></p>
<h3 id="Copy-the-qml-content"><a href="#Copy-the-qml-content" class="headerlink" title="Copy the .qml content"></a>Copy the .qml content</h3><p>Open the .qml file with notepad and review the colorrampshader part.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/qgis-style-qml.png" alt="QGIS styled layer"></p>
<h3 id="Generate-the-style-template-in-GeoServer"><a href="#Generate-the-style-template-in-GeoServer" class="headerlink" title="Generate the style template in GeoServer"></a>Generate the style template in GeoServer</h3><ol>
<li>Go to the GeoServer admin page and click on ‘Styles’ and add a new style.</li>
<li>Name the style and select the workspace, then choose ‘Copy from existing style’, select ‘dem’ and press ‘copy…’</li>
</ol>
<h3 id="Specify-the-style-content"><a href="#Specify-the-style-content" class="headerlink" title="Specify the style content"></a>Specify the style content</h3><ol>
<li>Change the name, title and abstract.</li>
<li>Translate the .qml content into the GeoServer style content here. Notice the ‘value’/‘label’/‘color’ values in .qml match the ‘quantity’/‘label’/‘color’ in GeoServer. If the opacity is 0.0, it means that the color will not be visible, so it will be white.</li>
<li>Press ‘Validate’ to check if it works. If there are no errors, then ‘submit’.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-style.png" alt="QGIS styled layer"></li>
</ol>
<h3 id="Generate-sld-in-QGIS"><a href="#Generate-sld-in-QGIS" class="headerlink" title="Generate .sld in QGIS"></a>Generate .sld in QGIS</h3><p>Comparing with exporting the .qml style in QGIS, we can directly generate .sld in QGIS and copy the content to create a style in GeoServer.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-style-sld.png" alt="QGIS styled sld"></p>
<h3 id="Edit-layer-basic-info"><a href="#Edit-layer-basic-info" class="headerlink" title="Edit layer basic info"></a>Edit layer basic info</h3><p>Go to ‘Layers’ and select the layer we just created. Make sure ‘Enabled’ and ‘Advertised’ are turned on and check if the ‘Coverage Band Details’ are set correctly, if not adjust them.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-style1.png" alt="GeoServer layer edit"></p>
<h3 id="Edit-WMS-Settings"><a href="#Edit-WMS-Settings" class="headerlink" title="Edit WMS Settings"></a>Edit WMS Settings</h3><p>Select the ‘Publishing’ tab. With the ‘WMS Settings’ select ‘Default Style’ and change it to the style we just created. ‘Save’ the layer again.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-style2.png" alt="GeoServer layer edit"></p>
<h3 id="Preview-layer"><a href="#Preview-layer" class="headerlink" title="Preview layer"></a>Preview layer</h3><p>View the layer again with the ‘Layer preview’ and ‘Open Layers’. Now the layer should be displayed correctly.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-preview-color.png" alt="GeoServer layer preview"></p>
<h3 id="Preview-layer-when-editing-style"><a href="#Preview-layer-when-editing-style" class="headerlink" title="Preview layer when editing style"></a>Preview layer when editing style</h3><p>We could also edit the style and preview the result as soon as we apply in the style editing page.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/style-preview.png" alt="GeoServer layer preview"></p>
<h3 id="Add-additional-styles"><a href="#Add-additional-styles" class="headerlink" title="Add additional styles"></a>Add additional styles</h3><p>Edit the layer again and with the ‘WMS Settings’ select additional styles and save. Remember to add the newly added style into it as well otherwise the restful api cannot list this style info under the layer.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-layer-styles.png" alt="GeoServer layer styles"></p>
<h3 id="Preview-layer-with-additional-styles"><a href="#Preview-layer-with-additional-styles" class="headerlink" title="Preview layer with additional styles"></a>Preview layer with additional styles</h3><p>Preview the layer again and we could switch the style to any available one and see the result.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-preview-change-style.png" alt="GeoServer layer preview change"></p>
<h2 id="Enable-CORS-for-GeoServer"><a href="#Enable-CORS-for-GeoServer" class="headerlink" title="Enable CORS for GeoServer"></a>Enable CORS for GeoServer</h2><h3 id="Clone-repository"><a href="#Clone-repository" class="headerlink" title="Clone repository"></a>Clone repository</h3><p>Clone the github repository <a href="https://github.com/kartoza/docker-geoserver" target="_blank" rel="noopener">docker-geoserver</a>.</p>
<h3 id="Create-web-xml"><a href="#Create-web-xml" class="headerlink" title="Create web.xml"></a>Create web.xml</h3><p>The contents of <code>resources/overlays</code> will be copied to the image file system during the build. For example, to include a static web xml with CORS support <code>web.xml</code>, create the file at <code>resources/overlays/usr/local/tomcat/conf/web.xml</code>.</p>
<h3 id="Enable-CORS"><a href="#Enable-CORS" class="headerlink" title="Enable CORS"></a>Enable CORS</h3><p>Add CORS enabled content into the web.xml as bellow. The full content of the web.xml can be found <a href="/2019/09/09/serve-raster-tiles-in-geoserver/web.xml">here</a>.</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag"><<span class="name">filter</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">filter-name</span>></span>CorsFilter<span class="tag"></<span class="name">filter-name</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">filter-class</span>></span>org.apache.catalina.filters.CorsFilter<span class="tag"></<span class="name">filter-class</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">init-param</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-name</span>></span>cors.allowed.origins<span class="tag"></<span class="name">param-name</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-value</span>></span>*<span class="tag"></<span class="name">param-value</span>></span></span><br><span class="line">    <span class="tag"></<span class="name">init-param</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">init-param</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-name</span>></span>cors.allowed.methods<span class="tag"></<span class="name">param-name</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-value</span>></span>GET,POST,HEAD,OPTIONS,PUT<span class="tag"></<span class="name">param-value</span>></span></span><br><span class="line">    <span class="tag"></<span class="name">init-param</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">init-param</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-name</span>></span>cors.allowed.headers<span class="tag"></<span class="name">param-name</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-value</span>></span>Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers<span class="tag"></<span class="name">param-value</span>></span></span><br><span class="line">    <span class="tag"></<span class="name">init-param</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">init-param</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-name</span>></span>cors.exposed.headers<span class="tag"></<span class="name">param-name</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-value</span>></span>Access-Control-Allow-Origin,Access-Control-Allow-Credentials<span class="tag"></<span class="name">param-value</span>></span></span><br><span class="line">    <span class="tag"></<span class="name">init-param</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">init-param</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-name</span>></span>cors.preflight.maxage<span class="tag"></<span class="name">param-name</span>></span></span><br><span class="line">        <span class="tag"><<span class="name">param-value</span>></span>10<span class="tag"></<span class="name">param-value</span>></span></span><br><span class="line">    <span class="tag"></<span class="name">init-param</span>></span></span><br><span class="line"><span class="tag"></<span class="name">filter</span>></span></span><br><span class="line"><span class="tag"><<span class="name">filter-mapping</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">filter-name</span>></span>CorsFilter<span class="tag"></<span class="name">filter-name</span>></span></span><br><span class="line">    <span class="tag"><<span class="name">url-pattern</span>></span>/*<span class="tag"></<span class="name">url-pattern</span>></span></span><br><span class="line"><span class="tag"></<span class="name">filter-mapping</span>></span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="Docker-hub-modification"><a href="#Docker-hub-modification" class="headerlink" title="Docker hub modification"></a>Docker hub modification</h3><p>Modify the build.sh script to own hub repository.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-build.png" alt="GeoServer build"></p>
<h3 id="Build-and-push"><a href="#Build-and-push" class="headerlink" title="Build and push"></a>Build and push</h3><p>Build the docker image and push to own docker hub. Now the CORS enabled GeoServer docker image is ready to use.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./build.sh</span><br><span class="line">docker pull hustakin/geoserver</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Tomcat-error-log"><a href="#Tomcat-error-log" class="headerlink" title="Tomcat error log"></a>Tomcat error log</h3><p>Sometimes the GeoServer container will met 404 issue. That’s because the tomcat failed to start because of your modification. We could attach to the GeoServer container and inspect the tomcat error log to find the reason.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-error.png" alt="GeoServer error"></p>
<h3 id="Client-http"><a href="#Client-http" class="headerlink" title="Client http"></a>Client http</h3><p>Please be noted the client HTTP should not use the credentials for CORS requests. For example, here I get feature information for raster data in angular6 client by clicking on the layer.<br><img src="/2019/09/09/serve-raster-tiles-in-geoserver/geoserver-angular2.png" alt="GeoServer cors"></p>
<h2 id="Renderer-the-raster-layer-in-the-web"><a href="#Renderer-the-raster-layer-in-the-web" class="headerlink" title="Renderer the raster layer in the web"></a>Renderer the raster layer in the web</h2><h3 id="Leaflet-layer-using-WMS"><a href="#Leaflet-layer-using-WMS" class="headerlink" title="Leaflet layer using WMS"></a>Leaflet layer using WMS</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wmsLayer = L.tileLayer.wms(<span class="string">'http://localhost:9999/geoserver/raster/wms?'</span>, {</span><br><span class="line">    layers: <span class="string">'raster:demo'</span>,</span><br><span class="line">    version: <span class="string">'1.1.1'</span>,</span><br><span class="line">    styles: <span class="string">''</span>, <span class="comment">//Use the default style, we can also specify additional styles</span></span><br><span class="line">    format: <span class="string">'image/png'</span>,</span><br><span class="line">    transparent: <span class="literal">true</span>,</span><br><span class="line">    maxZoom: <span class="number">25</span>,</span><br><span class="line">    tiled: <span class="literal">true</span></span><br><span class="line">});</span><br><span class="line"><span class="keyword">let</span> map = L.map(<span class="string">'map'</span>, {</span><br><span class="line">    zoom: <span class="number">0</span>,</span><br><span class="line">    maxZoom: <span class="number">25</span>,</span><br><span class="line">    maxNativeZoom: <span class="number">18</span>,</span><br><span class="line">    layers: [wmsLayer],</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2019/09/09/serve-raster-tiles-in-geoserver/leaflet.png" alt="Leaflet layer"></p>
<h3 id="Leaflet-layer-using-WMTS"><a href="#Leaflet-layer-using-WMTS" class="headerlink" title="Leaflet layer using WMTS"></a>Leaflet layer using WMTS</h3><p>Please be noted that we should use <a href="http://epsg.io/900913" target="_blank" rel="noopener">EPSG:900913</a> other than EPSG:4326 here which for historical reasons is what GeoServer calls Web Mercator.</p>
<figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wmtsLayer = <span class="keyword">new</span> L.TileLayer.WMTS(<span class="string">'http://localhost:9999/geoserver/gwc/service/wmts'</span>, {</span><br><span class="line">    layer: <span class="string">'raster:demo'</span>,</span><br><span class="line">    style: <span class="string">""</span>,</span><br><span class="line">    tilematrixSet: <span class="string">"EPSG:900913"</span>, <span class="comment">//Important!! It should be EPSG:900913 other than EPSG:4326</span></span><br><span class="line">    format: <span class="string">"image/png"</span>,</span><br><span class="line">    maxZoom: <span class="number">25</span>,</span><br><span class="line">    attribution: <span class="string">"<a href='https://github.com/mylen/leaflet.TileLayer.WMTS'>GitHub</a>&copy; <a href='http://www.ign.fr'>IGN</a>"</span></span><br><span class="line">});</span><br><span class="line"><span class="keyword">let</span> map = L.map(<span class="string">'map'</span>, {</span><br><span class="line">    zoom: <span class="number">0</span>,</span><br><span class="line">    maxZoom: <span class="number">25</span>,</span><br><span class="line">    maxNativeZoom: <span class="number">18</span>,</span><br><span class="line">    layers: [wmtsLayer],</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2019/09/09/serve-raster-tiles-in-geoserver/leaflet-wmts.png" alt="Leaflet layer"></p>
<h3 id="OpenLayers-layer-using-WMTS"><a href="#OpenLayers-layer-using-WMTS" class="headerlink" title="OpenLayers layer using WMTS"></a>OpenLayers layer using WMTS</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> gridNames = [<span class="string">'EPSG:4326:0'</span>, <span class="string">'EPSG:4326:1'</span>, <span class="string">'EPSG:4326:2'</span>, <span class="string">'EPSG:4326:3'</span>, <span class="string">'EPSG:4326:4'</span>, <span class="string">'EPSG:4326:5'</span>, <span class="string">'EPSG:4326:6'</span>, <span class="string">'EPSG:4326:7'</span>, <span class="string">'EPSG:4326:8'</span>, <span class="string">'EPSG:4326:9'</span>, <span class="string">'EPSG:4326:10'</span>, <span class="string">'EPSG:4326:11'</span>, <span class="string">'EPSG:4326:12'</span>, <span class="string">'EPSG:4326:13'</span>, <span class="string">'EPSG:4326:14'</span>, <span class="string">'EPSG:4326:15'</span>, <span class="string">'EPSG:4326:16'</span>, <span class="string">'EPSG:4326:17'</span>, <span class="string">'EPSG:4326:18'</span>, <span class="string">'EPSG:4326:19'</span>, <span class="string">'EPSG:4326:20'</span>, <span class="string">'EPSG:4326:21'</span>];</span><br><span class="line"><span class="keyword">let</span> baseParams = [<span class="string">'VERSION'</span>, <span class="string">'LAYER'</span>, <span class="string">'STYLE'</span>, <span class="string">'TILEMATRIX'</span>, <span class="string">'TILEMATRIXSET'</span>, <span class="string">'SERVICE'</span>, <span class="string">'FORMAT'</span>];</span><br><span class="line"><span class="keyword">let</span> params = {</span><br><span class="line">    VERSION: <span class="string">'1.0.0'</span>,</span><br><span class="line">    LAYER: <span class="string">'raster:demo'</span>,</span><br><span class="line">    STYLE: <span class="string">''</span>, <span class="comment">//Use the default style, we can also specify additional styles</span></span><br><span class="line">    TILEMATRIX: gridNames,</span><br><span class="line">    TILEMATRIXSET: <span class="string">'EPSG:4326'</span>,</span><br><span class="line">    SERVICE: <span class="string">'WMTS'</span>,</span><br><span class="line">    FORMAT: <span class="string">'image/png'</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> projection = <span class="keyword">new</span> Projection({</span><br><span class="line">    code: <span class="string">'EPSG:4326'</span>,</span><br><span class="line">    units: <span class="string">'degrees'</span>,</span><br><span class="line">    axisOrientation: <span class="string">'neu'</span></span><br><span class="line">});,</span><br><span class="line"><span class="keyword">let</span> resolutions = [<span class="number">0.703125</span>, <span class="number">0.3515625</span>, <span class="number">0.17578125</span>, <span class="number">0.087890625</span>, <span class="number">0.0439453125</span>, <span class="number">0.02197265625</span>, <span class="number">0.010986328125</span>, <span class="number">0.0054931640625</span>, <span class="number">0.00274658203125</span>, <span class="number">0.001373291015625</span>, <span class="number">6.866455078125E-4</span>, <span class="number">3.4332275390625E-4</span>, <span class="number">1.71661376953125E-4</span>, <span class="number">8.58306884765625E-5</span>, <span class="number">4.291534423828125E-5</span>, <span class="number">2.1457672119140625E-5</span>, <span class="number">1.0728836059570312E-5</span>, <span class="number">5.364418029785156E-6</span>, <span class="number">2.682209014892578E-6</span>, <span class="number">1.341104507446289E-6</span>, <span class="number">6.705522537231445E-7</span>, <span class="number">3.3527612686157227E-7</span>];</span><br><span class="line"><span class="keyword">let</span> url = <span class="string">'http://localhost:9999/geoserver/gwc/service/wmts?'</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> param <span class="keyword">in</span> params) {</span><br><span class="line">    <span class="keyword">if</span> (baseParams.indexOf(param.toUpperCase()) < <span class="number">0</span>) {</span><br><span class="line">        url = url + param + <span class="string">'='</span> + params[param] + <span class="string">'&'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">url = url.slice(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> source = <span class="keyword">new</span> WMTS({</span><br><span class="line">    url,</span><br><span class="line">    layer: params.LAYER,</span><br><span class="line">    matrixSet: params.TILEMATRIXSET,</span><br><span class="line">    format: params.FORMAT,</span><br><span class="line">    projection: projection,</span><br><span class="line">    tileGrid: <span class="keyword">new</span> WMTSTileGrid({</span><br><span class="line">        tileSize: [<span class="number">256</span>, <span class="number">256</span>],</span><br><span class="line">        extent: [<span class="number">-180.0</span>, <span class="number">-90.0</span>, <span class="number">180.0</span>, <span class="number">90.0</span>],</span><br><span class="line">        origin: [<span class="number">-180.0</span>, <span class="number">90.0</span>],</span><br><span class="line">        resolutions: resolutions,</span><br><span class="line">        matrixIds: params.TILEMATRIX</span><br><span class="line">    }),</span><br><span class="line">    style: params.STYLE,</span><br><span class="line">    wrapX: <span class="literal">true</span></span><br><span class="line">});</span><br><span class="line"><span class="keyword">let</span> wmsLayer = <span class="keyword">new</span> TileLayer({</span><br><span class="line">    source: source</span><br><span class="line">});</span><br><span class="line"><span class="keyword">let</span> view = <span class="keyword">new</span> View({</span><br><span class="line">    center: [<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">    zoom: <span class="number">2</span>,</span><br><span class="line">    projection: projection;,</span><br><span class="line">    extent: [<span class="number">-180.0</span>, <span class="number">-90.0</span>, <span class="number">180.0</span>, <span class="number">90.0</span>]</span><br><span class="line">});</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> Map({</span><br><span class="line">    controls: [</span><br><span class="line">        <span class="keyword">new</span> MousePosition(),</span><br><span class="line">        <span class="keyword">new</span> Zoom(),</span><br><span class="line">    ],</span><br><span class="line">    layers: [wmsLayer],</span><br><span class="line">    target: <span class="string">'map'</span>,</span><br><span class="line">    view: wmsVioew</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">//Get layer feature information by clicking on the layer</span></span><br><span class="line">map.on(<span class="string">'singleclick'</span>, <span class="function"><span class="params">evt</span> =></span> {</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'info'</span>).innerHTML = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> source = source;</span><br><span class="line">  <span class="keyword">const</span> resolution = view.getResolution();</span><br><span class="line">  <span class="keyword">const</span> tilegrid = source.getTileGrid();</span><br><span class="line">  <span class="keyword">const</span> tileResolutions = tilegrid.getResolutions();</span><br><span class="line">  <span class="keyword">let</span> zoomIdx, diff = <span class="literal">Infinity</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < tileResolutions.length; i++) {</span><br><span class="line">    <span class="keyword">const</span> tileResolution = tileResolutions[i];</span><br><span class="line">    <span class="keyword">const</span> diffP = <span class="built_in">Math</span>.abs(resolution - tileResolution);</span><br><span class="line">    <span class="keyword">if</span> (diffP < diff) {</span><br><span class="line">      diff = diffP;</span><br><span class="line">      zoomIdx = i;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (tileResolution < resolution) {</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">const</span> tileSize = tilegrid.getTileSize(zoomIdx);</span><br><span class="line">  <span class="keyword">const</span> tileOrigin = tilegrid.getOrigin(zoomIdx);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fx = (evt.coordinate[<span class="number">0</span>] - tileOrigin[<span class="number">0</span>]) / (resolution * tileSize[<span class="number">0</span>]);</span><br><span class="line">  <span class="keyword">const</span> fy = (tileOrigin[<span class="number">1</span>] - evt.coordinate[<span class="number">1</span>]) / (resolution * tileSize[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">const</span> tileCol = <span class="built_in">Math</span>.floor(fx);</span><br><span class="line">  <span class="keyword">const</span> tileRow = <span class="built_in">Math</span>.floor(fy);</span><br><span class="line">  <span class="keyword">const</span> tileI = <span class="built_in">Math</span>.floor((fx - tileCol) * tileSize[<span class="number">0</span>]);</span><br><span class="line">  <span class="keyword">const</span> tileJ = <span class="built_in">Math</span>.floor((fy - tileRow) * tileSize[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">const</span> matrixIds = tilegrid.getMatrixIds()[zoomIdx];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> url = url;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> param <span class="keyword">in</span> params) {</span><br><span class="line">    <span class="keyword">if</span> (param.toUpperCase() === <span class="string">'TILEMATRIX'</span>) {</span><br><span class="line">      url = url + <span class="string">'TILEMATRIX='</span> + matrixIds + <span class="string">'&'</span>;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      url = url + param + <span class="string">'='</span> + params[param] + <span class="string">'&'</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  url = url</span><br><span class="line">    + <span class="string">'SERVICE=WMTS&REQUEST=GetFeatureInfo'</span></span><br><span class="line">    + <span class="string">'&INFOFORMAT='</span> + <span class="string">'text/html'</span></span><br><span class="line">    + <span class="string">'&TileCol='</span> + tileCol</span><br><span class="line">    + <span class="string">'&TileRow='</span> + tileRow</span><br><span class="line">    + <span class="string">'&I='</span> + tileI</span><br><span class="line">    + <span class="string">'&J='</span> + tileJ;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (url) {</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'info'</span>).innerHTML = <span class="string">'Loading... please wait...'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.http.get<<span class="built_in">any</span>>(url, {</span><br><span class="line">      <span class="comment">// withCredentials: true,</span></span><br><span class="line">      responseType: <span class="string">'text'</span> <span class="keyword">as</span> <span class="string">'json'</span>,</span><br><span class="line">      headers: <span class="keyword">new</span> HttpHeaders({</span><br><span class="line">        <span class="string">'Accept'</span>: <span class="string">'*/*'</span>,</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'text/html'</span></span><br><span class="line">      }),</span><br><span class="line">    })</span><br><span class="line">      .subscribe(<span class="function">(<span class="params">res</span>) =></span> {</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'info'</span>).innerHTML = res;</span><br><span class="line">      }, <span class="function"><span class="params">()</span> =></span> {</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'info'</span>).innerHTML = <span class="string">''</span>;</span><br><span class="line">      });</span><br><span class="line">  }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2019/09/09/serve-raster-tiles-in-geoserver/openlayers.png" alt="OpenLayers layer"></p>
<h2 id="Footnotes"><a href="#Footnotes" class="headerlink" title="Footnotes"></a>Footnotes</h2><div id="exception">
<details>
  <summary>1. Full exception stack trace from GeoServer console</summary>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br></pre></td><td class="code"><pre><span class="line">09 Sep 17:11:56 INFO [geoserver.wms] -</span><br><span class="line">Request: getServiceInfo</span><br><span class="line">Sep 09, 2019 5:11:56 PM org.geoserver.GeoserverInitStartupListener$1 errorOccurred</span><br><span class="line">INFO: Problem occurs when computing a tile by the owner.</span><br><span class="line">java.lang.RuntimeException: javax.imageio.IIOException: Illegal value for Predictor in TIFF file</span><br><span class="line">        at com.sun.media.jai.imageioimpl.ImageReadOpImage.computeTile(ImageReadOpImage.java:706)</span><br><span class="line">        at com.sun.media.jai.util.SunTileScheduler.scheduleTile(SunTileScheduler.java:904)</span><br><span class="line">        at javax.media.jai.OpImage.getTile(OpImage.java:1129)</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2085)</span><br><span class="line">        at javax.media.jai.PlanarImage.getExtendedData(PlanarImage.java:2440)</span><br><span class="line">        at javax.media.jai.ScaleOpImage.computeTile(ScaleOpImage.java:1255)</span><br><span class="line">        at com.sun.media.jai.util.SunTileScheduler.scheduleTile(SunTileScheduler.java:904)</span><br><span class="line">        at javax.media.jai.OpImage.getTile(OpImage.java:1129)</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2085)</span><br><span class="line">        at javax.media.jai.StatisticsOpImage.getProperty(StatisticsOpImage.java:292)</span><br><span class="line">        at com.sun.media.jai.opimage.ExtremaOpImage.getProperty(ExtremaOpImage.java:100)</span><br><span class="line">        at javax.media.jai.RenderedOp$1.getProperty(RenderedOp.java:1808)</span><br><span class="line">        at javax.media.jai.PropertyEnvironment.getProperty(PropertyEnvironment.java:197)</span><br><span class="line">        at javax.media.jai.PropertySourceImpl.getProperty(PropertySourceImpl.java:277)</span><br><span class="line">        at javax.media.jai.WritablePropertySourceImpl.getProperty(WritablePropertySourceImpl.java:130)</span><br><span class="line">        at javax.media.jai.RenderedOp.getProperty(RenderedOp.java:1982)</span><br><span class="line">        at org.geotools.image.ImageWorker.getComputedProperty(ImageWorker.java:1033)</span><br><span class="line">        at org.geotools.image.ImageWorker.getExtremas(ImageWorker.java:1089)</span><br><span class="line">        at org.geotools.image.ImageWorker.rescaleToBytes(ImageWorker.java:1400)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:139)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:53)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter$1.execute(StyleVisitorCoverageProcessingNodeAdapter.java:97)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.checkExecuted(BaseCoverageProcessingNode.java:234)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:332)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:52)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter.getOutput(StyleVisitorCoverageProcessingNodeAdapter.java:130)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.symbolize(GridCoverageRenderer.java:484)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:1021)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:831)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.directRasterRender(RenderedImageMapOutputFormat.java:1036)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:349)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:265)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:132)</span><br><span class="line">        at org.geoserver.wms.GetMap.executeInternal(GetMap.java:720)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:300)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:123)</span><br><span class="line">        at org.geoserver.wms.DefaultWebMapService.getMap(DefaultWebMapService.java:251)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor296.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)</span><br><span class="line">        at org.geoserver.kml.WebMapServiceKmlInterceptor.invoke(WebMapServiceKmlInterceptor.java:38)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:59)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:33)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:72)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:52)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.ows.util.RequestObjectLogger.invoke(RequestObjectLogger.java:50)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)</span><br><span class="line">        at com.sun.proxy.$Proxy96.getMap(Unknown Source)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.execute(Dispatcher.java:877)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.handleRequestInternal(Dispatcher.java:264)</span><br><span class="line">        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:174)</span><br><span class="line">        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:50)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669)</span><br><span class="line">        at org.geoserver.filters.ThreadLocalsCleanupFilter.doFilter(ThreadLocalsCleanupFilter.java:26)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:69)</span><br><span class="line">        at org.geoserver.wms.animate.AnimatorFilter.doFilter(AnimatorFilter.java:73)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:66)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter.doFilter(SpringDelegatingFilter.java:41)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.platform.AdvancedDispatchFilter.doFilter(AdvancedDispatchFilter.java:37)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerAnonymousAuthenticationFilter.doFilter(GeoServerAnonymousAuthenticationFilter.java:51)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerBasicAuthenticationFilter.doFilter(GeoServerBasicAuthenticationFilter.java:81)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerSecurityContextPersistenceFilter$1.doFilter(GeoServerSecurityContextPersistenceFilter.java:52)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)</span><br><span class="line">        at org.geoserver.security.GeoServerSecurityFilterChainProxy.doFilter(GeoServerSecurityFilterChainProxy.java:141)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.LoggingFilter.doFilter(LoggingFilter.java:90)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.XFrameOptionsFilter.doFilter(XFrameOptionsFilter.java:79)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.GZIPFilter.doFilter(GZIPFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SessionDebugFilter.doFilter(SessionDebugFilter.java:46)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.FlushSafeFilter.doFilter(FlushSafeFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:256)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:219)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)</span><br><span class="line">        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)</span><br><span class="line">        at org.eclipse.jetty.server.Server.handle(Server.java:499)</span><br><span class="line">        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)</span><br><span class="line">        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)</span><br><span class="line">        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:748)</span><br><span class="line">Caused by: javax.imageio.IIOException: Illegal value for Predictor in TIFF file</span><br><span class="line">        at it.geosolutions.imageioimpl.plugins.tiff.TIFFLZWDecompressor.<init>(TIFFLZWDecompressor.java:118)</span><br><span class="line">        at it.geosolutions.imageioimpl.plugins.tiff.TIFFImageReader.read(TIFFImageReader.java:1856)</span><br><span class="line">        at com.sun.media.jai.imageioimpl.ImageReadOpImage.computeTile(ImageReadOpImage.java:697)</span><br><span class="line">        ... 147 more</span><br><span class="line"></span><br><span class="line">Sep 09, 2019 5:11:56 PM org.geoserver.GeoserverInitStartupListener$1 errorOccurred</span><br><span class="line">INFO: Problem occurs when computing a tile by the owner.</span><br><span class="line">java.lang.NullPointerException</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2110)</span><br><span class="line">        at javax.media.jai.PlanarImage.getExtendedData(PlanarImage.java:2440)</span><br><span class="line">        at javax.media.jai.ScaleOpImage.computeTile(ScaleOpImage.java:1255)</span><br><span class="line">        at com.sun.media.jai.util.SunTileScheduler.scheduleTile(SunTileScheduler.java:904)</span><br><span class="line">        at javax.media.jai.OpImage.getTile(OpImage.java:1129)</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2085)</span><br><span class="line">        at javax.media.jai.StatisticsOpImage.getProperty(StatisticsOpImage.java:292)</span><br><span class="line">        at com.sun.media.jai.opimage.ExtremaOpImage.getProperty(ExtremaOpImage.java:100)</span><br><span class="line">        at javax.media.jai.RenderedOp$1.getProperty(RenderedOp.java:1808)</span><br><span class="line">        at javax.media.jai.PropertyEnvironment.getProperty(PropertyEnvironment.java:197)</span><br><span class="line">        at javax.media.jai.PropertySourceImpl.getProperty(PropertySourceImpl.java:277)</span><br><span class="line">        at javax.media.jai.WritablePropertySourceImpl.getProperty(WritablePropertySourceImpl.java:130)</span><br><span class="line">        at javax.media.jai.RenderedOp.getProperty(RenderedOp.java:1982)</span><br><span class="line">        at org.geotools.image.ImageWorker.getComputedProperty(ImageWorker.java:1033)</span><br><span class="line">        at org.geotools.image.ImageWorker.getExtremas(ImageWorker.java:1089)</span><br><span class="line">        at org.geotools.image.ImageWorker.rescaleToBytes(ImageWorker.java:1400)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:139)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:53)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter$1.execute(StyleVisitorCoverageProcessingNodeAdapter.java:97)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.checkExecuted(BaseCoverageProcessingNode.java:234)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:332)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:52)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter.getOutput(StyleVisitorCoverageProcessingNodeAdapter.java:130)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.symbolize(GridCoverageRenderer.java:484)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:1021)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:831)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.directRasterRender(RenderedImageMapOutputFormat.java:1036)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:349)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:265)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:132)</span><br><span class="line">        at org.geoserver.wms.GetMap.executeInternal(GetMap.java:720)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:300)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:123)</span><br><span class="line">        at org.geoserver.wms.DefaultWebMapService.getMap(DefaultWebMapService.java:251)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor296.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)</span><br><span class="line">        at org.geoserver.kml.WebMapServiceKmlInterceptor.invoke(WebMapServiceKmlInterceptor.java:38)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:59)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:33)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:72)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:52)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.ows.util.RequestObjectLogger.invoke(RequestObjectLogger.java:50)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)</span><br><span class="line">        at com.sun.proxy.$Proxy96.getMap(Unknown Source)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.execute(Dispatcher.java:877)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.handleRequestInternal(Dispatcher.java:264)</span><br><span class="line">        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:174)</span><br><span class="line">        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:50)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669)</span><br><span class="line">        at org.geoserver.filters.ThreadLocalsCleanupFilter.doFilter(ThreadLocalsCleanupFilter.java:26)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:69)</span><br><span class="line">        at org.geoserver.wms.animate.AnimatorFilter.doFilter(AnimatorFilter.java:73)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:66)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter.doFilter(SpringDelegatingFilter.java:41)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.platform.AdvancedDispatchFilter.doFilter(AdvancedDispatchFilter.java:37)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerAnonymousAuthenticationFilter.doFilter(GeoServerAnonymousAuthenticationFilter.java:51)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerBasicAuthenticationFilter.doFilter(GeoServerBasicAuthenticationFilter.java:81)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerSecurityContextPersistenceFilter$1.doFilter(GeoServerSecurityContextPersistenceFilter.java:52)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)</span><br><span class="line">        at org.geoserver.security.GeoServerSecurityFilterChainProxy.doFilter(GeoServerSecurityFilterChainProxy.java:141)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.LoggingFilter.doFilter(LoggingFilter.java:90)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.XFrameOptionsFilter.doFilter(XFrameOptionsFilter.java:79)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.GZIPFilter.doFilter(GZIPFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SessionDebugFilter.doFilter(SessionDebugFilter.java:46)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.FlushSafeFilter.doFilter(FlushSafeFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:256)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:219)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)</span><br><span class="line">        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)</span><br><span class="line">        at org.eclipse.jetty.server.Server.handle(Server.java:499)</span><br><span class="line">        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)</span><br><span class="line">        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)</span><br><span class="line">        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:748)</span><br><span class="line"></span><br><span class="line">java.lang.NullPointerException</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2110)</span><br><span class="line">        at javax.media.jai.StatisticsOpImage.getProperty(StatisticsOpImage.java:292)</span><br><span class="line">        at com.sun.media.jai.opimage.ExtremaOpImage.getProperty(ExtremaOpImage.java:100)</span><br><span class="line">        at javax.media.jai.RenderedOp$1.getProperty(RenderedOp.java:1808)</span><br><span class="line">        at javax.media.jai.PropertyEnvironment.getProperty(PropertyEnvironment.java:197)</span><br><span class="line">        at javax.media.jai.PropertySourceImpl.getProperty(PropertySourceImpl.java:277)</span><br><span class="line">        at javax.media.jai.WritablePropertySourceImpl.getProperty(WritablePropertySourceImpl.java:130)</span><br><span class="line">        at javax.media.jai.RenderedOp.getProperty(RenderedOp.java:1982)</span><br><span class="line">        at org.geotools.image.ImageWorker.getComputedProperty(ImageWorker.java:1033)</span><br><span class="line">        at org.geotools.image.ImageWorker.getExtremas(ImageWorker.java:1089)</span><br><span class="line">        at org.geotools.image.ImageWorker.rescaleToBytes(ImageWorker.java:1400)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:139)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:53)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter$1.execute(StyleVisitorCoverageProcessingNodeAdapter.java:97)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.checkExecuted(BaseCoverageProcessingNode.java:234)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:332)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:52)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter.getOutput(StyleVisitorCoverageProcessingNodeAdapter.java:130)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.symbolize(GridCoverageRenderer.java:484)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:1021)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:831)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.directRasterRender(RenderedImageMapOutputFormat.java:1036)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:349)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:265)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:132)</span><br><span class="line">        at org.geoserver.wms.GetMap.executeInternal(GetMap.java:720)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:300)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:123)</span><br><span class="line">        at org.geoserver.wms.DefaultWebMapService.getMap(DefaultWebMapService.java:251)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor296.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)</span><br><span class="line">        at org.geoserver.kml.WebMapServiceKmlInterceptor.invoke(WebMapServiceKmlInterceptor.java:38)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:59)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:33)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:72)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:52)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.ows.util.RequestObjectLogger.invoke(RequestObjectLogger.java:50)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)</span><br><span class="line">        at com.sun.proxy.$Proxy96.getMap(Unknown Source)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.execute(Dispatcher.java:877)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.handleRequestInternal(Dispatcher.java:264)</span><br><span class="line">        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:174)</span><br><span class="line">        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:50)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669)</span><br><span class="line">        at org.geoserver.filters.ThreadLocalsCleanupFilter.doFilter(ThreadLocalsCleanupFilter.java:26)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:69)</span><br><span class="line">        at org.geoserver.wms.animate.AnimatorFilter.doFilter(AnimatorFilter.java:73)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:66)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter.doFilter(SpringDelegatingFilter.java:41)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.platform.AdvancedDispatchFilter.doFilter(AdvancedDispatchFilter.java:37)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerAnonymousAuthenticationFilter.doFilter(GeoServerAnonymousAuthenticationFilter.java:51)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerBasicAuthenticationFilter.doFilter(GeoServerBasicAuthenticationFilter.java:81)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerSecurityContextPersistenceFilter$1.doFilter(GeoServerSecurityContextPersistenceFilter.java:52)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)</span><br><span class="line">        at org.geoserver.security.GeoServerSecurityFilterChainProxy.doFilter(GeoServerSecurityFilterChainProxy.java:141)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.LoggingFilter.doFilter(LoggingFilter.java:90)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.XFrameOptionsFilter.doFilter(XFrameOptionsFilter.java:79)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.GZIPFilter.doFilter(GZIPFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SessionDebugFilter.doFilter(SessionDebugFilter.java:46)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.FlushSafeFilter.doFilter(FlushSafeFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:256)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:219)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)</span><br><span class="line">        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)</span><br><span class="line">        at org.eclipse.jetty.server.Server.handle(Server.java:499)</span><br><span class="line">        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)</span><br><span class="line">        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)</span><br><span class="line">        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:748)</span><br><span class="line">09 Sep 17:11:56 ERROR [geoserver.ows] -</span><br><span class="line">org.geoserver.platform.ServiceException: Error rendering coverage on the fast path</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:351)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:265)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:132)</span><br><span class="line">        at org.geoserver.wms.GetMap.executeInternal(GetMap.java:720)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:300)</span><br><span class="line">        at org.geoserver.wms.GetMap.run(GetMap.java:123)</span><br><span class="line">        at org.geoserver.wms.DefaultWebMapService.getMap(DefaultWebMapService.java:251)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor296.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)</span><br><span class="line">        at org.geoserver.kml.WebMapServiceKmlInterceptor.invoke(WebMapServiceKmlInterceptor.java:38)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:59)</span><br><span class="line">        at org.geoserver.gwc.wms.CacheSeedingWebMapService.invoke(CacheSeedingWebMapService.java:33)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:72)</span><br><span class="line">        at org.geoserver.gwc.wms.CachingWebMapService.invoke(CachingWebMapService.java:52)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.geoserver.ows.util.RequestObjectLogger.invoke(RequestObjectLogger.java:50)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)</span><br><span class="line">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)</span><br><span class="line">        at com.sun.proxy.$Proxy96.getMap(Unknown Source)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.execute(Dispatcher.java:877)</span><br><span class="line">        at org.geoserver.ows.Dispatcher.handleRequestInternal(Dispatcher.java:264)</span><br><span class="line">        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:174)</span><br><span class="line">        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:50)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)</span><br><span class="line">        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)</span><br><span class="line">        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)</span><br><span class="line">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669)</span><br><span class="line">        at org.geoserver.filters.ThreadLocalsCleanupFilter.doFilter(ThreadLocalsCleanupFilter.java:26)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:69)</span><br><span class="line">        at org.geoserver.wms.animate.AnimatorFilter.doFilter(AnimatorFilter.java:73)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter$Chain.doFilter(SpringDelegatingFilter.java:66)</span><br><span class="line">        at org.geoserver.filters.SpringDelegatingFilter.doFilter(SpringDelegatingFilter.java:41)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.platform.AdvancedDispatchFilter.doFilter(AdvancedDispatchFilter.java:37)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)</span><br><span class="line">        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerAnonymousAuthenticationFilter.doFilter(GeoServerAnonymousAuthenticationFilter.java:51)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerBasicAuthenticationFilter.doFilter(GeoServerBasicAuthenticationFilter.java:81)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:70)</span><br><span class="line">        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerSecurityContextPersistenceFilter$1.doFilter(GeoServerSecurityContextPersistenceFilter.java:52)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter$NestedFilterChain.doFilter(GeoServerCompositeFilter.java:74)</span><br><span class="line">        at org.geoserver.security.filter.GeoServerCompositeFilter.doFilter(GeoServerCompositeFilter.java:91)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)</span><br><span class="line">        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)</span><br><span class="line">        at org.geoserver.security.GeoServerSecurityFilterChainProxy.doFilter(GeoServerSecurityFilterChainProxy.java:141)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)</span><br><span class="line">        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.LoggingFilter.doFilter(LoggingFilter.java:90)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.XFrameOptionsFilter.doFilter(XFrameOptionsFilter.java:79)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.GZIPFilter.doFilter(GZIPFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.SessionDebugFilter.doFilter(SessionDebugFilter.java:46)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.geoserver.filters.FlushSafeFilter.doFilter(FlushSafeFilter.java:42)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:256)</span><br><span class="line">        at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:219)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)</span><br><span class="line">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)</span><br><span class="line">        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)</span><br><span class="line">        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)</span><br><span class="line">        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)</span><br><span class="line">        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)</span><br><span class="line">        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)</span><br><span class="line">        at org.eclipse.jetty.server.Server.handle(Server.java:499)</span><br><span class="line">        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)</span><br><span class="line">        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)</span><br><span class="line">        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)</span><br><span class="line">        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:748)</span><br><span class="line">Caused by: org.geoserver.platform.ServiceException: org.geotools.coverage.processing.CoverageProcessingException: java.lang.NullPointerException</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.directRasterRender(RenderedImageMapOutputFormat.java:1200)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.produceMap(RenderedImageMapOutputFormat.java:349)</span><br><span class="line">        ... 117 more</span><br><span class="line">Caused by: org.geotools.coverage.processing.CoverageProcessingException: java.lang.NullPointerException</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:333)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:52)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter.getOutput(StyleVisitorCoverageProcessingNodeAdapter.java:130)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.symbolize(GridCoverageRenderer.java:484)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:1021)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.GridCoverageRenderer.renderImage(GridCoverageRenderer.java:831)</span><br><span class="line">        at org.geoserver.wms.map.RenderedImageMapOutputFormat.directRasterRender(RenderedImageMapOutputFormat.java:1036)</span><br><span class="line">        ... 118 more</span><br><span class="line">Caused by: java.lang.NullPointerException</span><br><span class="line">        at javax.media.jai.PlanarImage.getData(PlanarImage.java:2110)</span><br><span class="line">        at javax.media.jai.StatisticsOpImage.getProperty(StatisticsOpImage.java:292)</span><br><span class="line">        at com.sun.media.jai.opimage.ExtremaOpImage.getProperty(ExtremaOpImage.java:100)</span><br><span class="line">        at javax.media.jai.RenderedOp$1.getProperty(RenderedOp.java:1808)</span><br><span class="line">        at javax.media.jai.PropertyEnvironment.getProperty(PropertyEnvironment.java:197)</span><br><span class="line">        at javax.media.jai.PropertySourceImpl.getProperty(PropertySourceImpl.java:277)</span><br><span class="line">        at javax.media.jai.WritablePropertySourceImpl.getProperty(WritablePropertySourceImpl.java:130)</span><br><span class="line">        at javax.media.jai.RenderedOp.getProperty(RenderedOp.java:1982)</span><br><span class="line">        at org.geotools.image.ImageWorker.getComputedProperty(ImageWorker.java:1033)</span><br><span class="line">        at org.geotools.image.ImageWorker.getExtremas(ImageWorker.java:1089)</span><br><span class="line">        at org.geotools.image.ImageWorker.rescaleToBytes(ImageWorker.java:1400)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:139)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.RasterSymbolizerHelper.execute(RasterSymbolizerHelper.java:53)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.StyleVisitorCoverageProcessingNodeAdapter$1.execute(StyleVisitorCoverageProcessingNodeAdapter.java:97)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.checkExecuted(BaseCoverageProcessingNode.java:234)</span><br><span class="line">        at org.geotools.renderer.lite.gridcoverage2d.BaseCoverageProcessingNode.getOutput(BaseCoverageProcessingNode.java:332)</span><br><span class="line">        ... 124 more</span><br></pre></td></tr></tbody></table></figure>

</details>
</div>
</body></html>
    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/GeoServer/" rel="tag"><i class="fa fa-tag"></i> GeoServer</a>
            
              <a href="/tags/GIS/" rel="tag"><i class="fa fa-tag"></i> GIS</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/09/04/getting-started-with-mitmproxy/" rel="next" title="Getting started on mitmproxy">
                  <i class="fa fa-chevron-left"></i> Getting started on mitmproxy
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/09/12/developing-based-on-geoserver-restful-api/" rel="prev" title="Developing based on GeoServer restful api">
                  Developing based on GeoServer restful api <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/uploads/avatar.png"
      alt="Frankie Fan">
  <p class="site-author-name" itemprop="name">Frankie Fan</p>
  <div class="site-description motion-element" itemprop="description">Live for die and let it go.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://github.com/hustakin" title="GitHub &rarr; https://github.com/hustakin" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="mailto:hustakin@gmail.com" title="E-Mail &rarr; mailto:hustakin@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://www.linkedin.com/in/hustakin/" title="LinkedIn &rarr; https://www.linkedin.com/in/hustakin/" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://twitter.com/hustakin" title="Twitter &rarr; https://twitter.com/hustakin" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://www.facebook.com/hustakin" title="FB Page &rarr; https://www.facebook.com/hustakin" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i></a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Steps-to-handle-raster-data"><span class="nav-number">1.</span> <span class="nav-text">Steps to handle raster data</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Download"><span class="nav-number">1.1.</span> <span class="nav-text">Download</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Login"><span class="nav-number">1.2.</span> <span class="nav-text">Login</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-a-raster-workspace"><span class="nav-number">1.3.</span> <span class="nav-text">Create a raster workspace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Select-a-store-datasource"><span class="nav-number">1.4.</span> <span class="nav-text">Select a store datasource</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-a-raster-store"><span class="nav-number">1.5.</span> <span class="nav-text">Create a raster store</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-a-layer"><span class="nav-number">1.6.</span> <span class="nav-text">Create a layer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Publish-review"><span class="nav-number">1.7.</span> <span class="nav-text">Publish review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Layer-preview"><span class="nav-number">1.8.</span> <span class="nav-text">Layer preview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Layer-preview-result"><span class="nav-number">1.9.</span> <span class="nav-text">Layer preview result</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Compressed-raster-layer-with-only-grey-band"><span class="nav-number">2.</span> <span class="nav-text">Compressed raster layer with only grey band</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-geotiff-file-failed-being-processed-for-unknown-reason"><span class="nav-number">2.1.</span> <span class="nav-text">The geotiff file failed being processed for unknown reason</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exception-stack-trace"><span class="nav-number">2.2.</span> <span class="nav-text">Exception stack trace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QGIS-layer-preview"><span class="nav-number">2.3.</span> <span class="nav-text">QGIS layer preview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QGIS-geotiff-layer-export"><span class="nav-number">2.4.</span> <span class="nav-text">QGIS geotiff layer export</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GeoServer-layer-preview"><span class="nav-number">2.5.</span> <span class="nav-text">GeoServer layer preview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cause-analysis"><span class="nav-number">2.6.</span> <span class="nav-text">Cause analysis</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Define-style-in-GeoServer"><span class="nav-number">3.</span> <span class="nav-text">Define style in GeoServer</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-style-in-QGIS"><span class="nav-number">3.1.</span> <span class="nav-text">Create style in QGIS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Export-style-in-QGIS"><span class="nav-number">3.2.</span> <span class="nav-text">Export style in QGIS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Copy-the-qml-content"><span class="nav-number">3.3.</span> <span class="nav-text">Copy the .qml content</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generate-the-style-template-in-GeoServer"><span class="nav-number">3.4.</span> <span class="nav-text">Generate the style template in GeoServer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Specify-the-style-content"><span class="nav-number">3.5.</span> <span class="nav-text">Specify the style content</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generate-sld-in-QGIS"><span class="nav-number">3.6.</span> <span class="nav-text">Generate .sld in QGIS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Edit-layer-basic-info"><span class="nav-number">3.7.</span> <span class="nav-text">Edit layer basic info</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Edit-WMS-Settings"><span class="nav-number">3.8.</span> <span class="nav-text">Edit WMS Settings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Preview-layer"><span class="nav-number">3.9.</span> <span class="nav-text">Preview layer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Preview-layer-when-editing-style"><span class="nav-number">3.10.</span> <span class="nav-text">Preview layer when editing style</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Add-additional-styles"><span class="nav-number">3.11.</span> <span class="nav-text">Add additional styles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Preview-layer-with-additional-styles"><span class="nav-number">3.12.</span> <span class="nav-text">Preview layer with additional styles</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enable-CORS-for-GeoServer"><span class="nav-number">4.</span> <span class="nav-text">Enable CORS for GeoServer</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Clone-repository"><span class="nav-number">4.1.</span> <span class="nav-text">Clone repository</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-web-xml"><span class="nav-number">4.2.</span> <span class="nav-text">Create web.xml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Enable-CORS"><span class="nav-number">4.3.</span> <span class="nav-text">Enable CORS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Docker-hub-modification"><span class="nav-number">4.4.</span> <span class="nav-text">Docker hub modification</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Build-and-push"><span class="nav-number">4.5.</span> <span class="nav-text">Build and push</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tomcat-error-log"><span class="nav-number">4.6.</span> <span class="nav-text">Tomcat error log</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Client-http"><span class="nav-number">4.7.</span> <span class="nav-text">Client http</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Renderer-the-raster-layer-in-the-web"><span class="nav-number">5.</span> <span class="nav-text">Renderer the raster layer in the web</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Leaflet-layer-using-WMS"><span class="nav-number">5.1.</span> <span class="nav-text">Leaflet layer using WMS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leaflet-layer-using-WMTS"><span class="nav-number">5.2.</span> <span class="nav-text">Leaflet layer using WMTS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenLayers-layer-using-WMTS"><span class="nav-number">5.3.</span> <span class="nav-text">OpenLayers layer using WMTS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Footnotes"><span class="nav-number">6.</span> <span class="nav-text">Footnotes</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frankie Fan</span>
</div>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item-icon"><i class="fa fa-user"></i></span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon"><i class="fa fa-eye"></i></span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>


        








        
      </div>
    </footer>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>


  <script src="/js/affix.js?v=7.3.0"></script>
  <script src="/js/schemes/pisces.js?v=7.3.0"></script>



<script src="/js/next-boot.js?v=7.3.0"></script>




  




























  

  

  


  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>


</body>
</html>
