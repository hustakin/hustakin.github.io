<!DOCTYPE html>





<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.9.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    save_scroll: false,
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="As Jenkins is one of the most popular CI tools on the market with over a thousand plugins, in this article, we are going to set up a CI pipeline for a SpringBoot application.">
<meta name="keywords" content="Linux,Docker,Jenkins,CI&#x2F;CD">
<meta property="og:type" content="article">
<meta property="og:title" content="Continuous Integration with Jenkins and Docker">
<meta property="og:url" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/index.html">
<meta property="og:site_name" content="Frankie Fan">
<meta property="og:description" content="As Jenkins is one of the most popular CI tools on the market with over a thousand plugins, in this article, we are going to set up a CI pipeline for a SpringBoot application.">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/publish-over-ssh.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-generate-token.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-mvn-project.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-build-trigger.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-build-goal.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-build-publish.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/github-webhook.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/try-push.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-global-security.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/shell-scripts.png">
<meta property="og:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/ci-build.png">
<meta property="og:updated_time" content="2019-09-24T02:42:05.935Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Continuous Integration with Jenkins and Docker">
<meta name="twitter:description" content="As Jenkins is one of the most popular CI tools on the market with over a thousand plugins, in this article, we are going to set up a CI pipeline for a SpringBoot application.">
<meta name="twitter:image" content="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/publish-over-ssh.png">
  <link rel="canonical" href="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Continuous Integration with Jenkins and Docker | Frankie Fan</title>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146443611-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-146443611-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <div class="container sidebar-position-left">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Frankie Fan</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">23</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">4</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">17</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hustakin.github.io/2017/09/01/continuous-integration-with-jenkins-and-docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frankie Fan">
      <meta itemprop="description" content="Live for die and let it go.">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frankie Fan">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">Continuous Integration with Jenkins and Docker

            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2017-09-01 11:42:28" itemprop="dateCreated datePublished" datetime="2017-09-01T11:42:28+10:00">2017-09-01</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-09-24 12:42:05" itemprop="dateModified" datetime="2019-09-24T12:42:05+10:00">2019-09-24</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Best-Practice/" itemprop="url" rel="index"><span itemprop="name">Best Practice</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/DevOps/" itemprop="url" rel="index"><span itemprop="name">DevOps</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <html><head></head><body><p>As Jenkins is one of the most popular CI tools on the market with over a thousand plugins, in this article, we are going to set up a CI pipeline for a SpringBoot application.</p>
<a id="more"></a>

<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><h3 id="Install-docker"><a href="#Install-docker" class="headerlink" title="Install docker"></a>Install docker</h3><p>Start the docker service and login the docker hub.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -sSL https://get.docker.com/ | sh</span><br><span class="line">sudo service docker start</span><br><span class="line">sudo docker login</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Install-docker-compose"><a href="#Install-docker-compose" class="headerlink" title="Install docker-compose"></a>Install docker-compose</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">curl -L https://github.com/docker/compose/releases/download/1.16.0-rc2/docker-compose-`uname -s`-`uname -m` > /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line">chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Create-jenkins-container"><a href="#Create-jenkins-container" class="headerlink" title="Create jenkins container"></a>Create jenkins container</h3><p>Start Jenkins container and configure the user.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run --name jenkins -p 8080:8080 -p 50000:50000 -v /var/jenkins_home jenkins</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Deploy-SSH-key"><a href="#Deploy-SSH-key" class="headerlink" title="Deploy SSH key"></a>Deploy SSH key</h3><p>Use nsenter to attach the Jenkins container, and run commands in Jenkins container to generate ssh key, then the Jenkins server will have .ssh folder generated under ~, under the .ssh folder there are id_rsa (private key) and id_rsa.pub (public key).</p>
<p>Copy the content in id_rsa.pub, and go back to the remote server on which jenkins will SSH and execute shell scripts and deploy the application, and paste the content in ~/authorized_keys.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -v /usr/<span class="built_in">local</span>/bin:/target jpetazzo/nsenter</span><br><span class="line"></span><br><span class="line">PID=$(sudo docker inspect --format {{.State.Pid}} jenkins)</span><br><span class="line">sudo nsenter --target <span class="variable">$PID</span> --mount --uts --ipc --net --pid</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line"><span class="comment">#Copy key</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="Restart-the-SSH-service"><a href="#Restart-the-SSH-service" class="headerlink" title="Restart the SSH service"></a>Restart the SSH service</h3><p>Restart the ssh service in remote server, and create a folder to put scripts into it and modify the permission of it. For example: ~/agriculture-platform.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart</span><br><span class="line">sudo mkdir ~/agriculture-platform/</span><br><span class="line">sudo chmod 777 ~/agriculture-platform/</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Jenkins-configuration"><a href="#Jenkins-configuration" class="headerlink" title="Jenkins configuration"></a>Jenkins configuration</h2><h3 id="Publish-over-SSH-plugin"><a href="#Publish-over-SSH-plugin" class="headerlink" title="Publish over SSH plugin"></a>Publish over SSH plugin</h3><p>Install the plugin “Publish over SSH” in Jenkins, and configure it, then test the connection.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/publish-over-ssh.png" alt="Publish over SSH plugin"></p>
<h3 id="Generate-API-token"><a href="#Generate-API-token" class="headerlink" title="Generate API token"></a>Generate API token</h3><p>Login your jenkins with admin user and click the user on the right hand side, then select configure and generate a token here.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-generate-token.png" alt="Publish over SSH plugin"></p>
<h3 id="Create-maven-project"><a href="#Create-maven-project" class="headerlink" title="Create maven project"></a>Create maven project</h3><p>Create a maven project in Jenkins, configure the git URL and credentials for it.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-mvn-project.png" alt="Create maven project"></p>
<h3 id="Enable-build-trigger"><a href="#Enable-build-trigger" class="headerlink" title="Enable build trigger"></a>Enable build trigger</h3><p>Enable the remote build trigger token which is the above generated API token.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-build-trigger.png" alt="Build trigger"></p>
<h3 id="Build-maven-commands"><a href="#Build-maven-commands" class="headerlink" title="Build maven commands"></a>Build maven commands</h3><p>Configure the build step with maven build commands.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-build-goal.png" alt="Build goals"></p>
<h3 id="After-build-steps"><a href="#After-build-steps" class="headerlink" title="After build steps"></a>After build steps</h3><p>Configure the after build step to SSH and copy the jar file to the remote server. Here we execute a shell script to deploy the SpringBoot application.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-build-publish.png" alt="Build publish"></p>
<h3 id="Create-webhook-in-Github"><a href="#Create-webhook-in-Github" class="headerlink" title="Create webhook in Github"></a>Create webhook in Github</h3><p>Login the Bitbucket or Github and enter your SpringBoot project, enter the Webhooks page, add new a webhook with Jenkins server info and your job name and the above generated API token.</p>
<p>The webhook will be invoked when you push any code to the master branch. The related jenkins project will receive this webhook request and execute the build job immediately.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/github-webhook.png" alt="Create webhook"></p>
<h3 id="Try-push-code"><a href="#Try-push-code" class="headerlink" title="Try push code"></a>Try push code</h3><p>If we try to push the code to Bitbucket now, we will find a webhook request error in Webhooks page.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/try-push.png" alt="Try push"></p>
<h3 id="Configure-global-security"><a href="#Configure-global-security" class="headerlink" title="Configure global security"></a>Configure global security</h3><p>We should login the Jenkins and configure the Global Security and enable the webhook in order to fix the above issue.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/jenkins-global-security.png" alt="Configure global security"></p>
<h2 id="Deploy-configuration"><a href="#Deploy-configuration" class="headerlink" title="Deploy configuration"></a>Deploy configuration</h2><h3 id="Shell-scripts"><a href="#Shell-scripts" class="headerlink" title="Shell scripts"></a>Shell scripts</h3><p>Now Jenkins is configured to transfer the SpringBoot jar to “<del>/agriculture-platform” folder and run the shell script “</del>/agriculture-platform/rebuild.sh”.</p>
<p>Login the remote server, we create “agriculture-platform” folder under ~, and create Dockerfile and rebuild.sh under it.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/shell-scripts.png" alt="Shell scripts"></p>
<h3 id="SpringBoot-Dockerfile"><a href="#SpringBoot-Dockerfile" class="headerlink" title="SpringBoot Dockerfile"></a>SpringBoot Dockerfile</h3><p>The Dockerfile content is as bellow, it creates a docker image and copy the jar into it, then run the jar.</p>
<figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> hustakin/java8</span><br><span class="line"><span class="keyword">MAINTAINER</span> Frankie Fan <span class="string">"hustakin@gmail.com"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> /tmp</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> agriculture-platform.jar agriculture-platform.jar</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">"java"</span>,<span class="string">"-Djava.security.egd=file:/dev/./urandom"</span>,<span class="string">"-Dspring.profiles.active=docker"</span>,<span class="string">"-jar"</span>,<span class="string">"/agriculture-platform.jar"</span>]</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8001</span> <span class="number">8002</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="Build-scripts"><a href="#Build-scripts" class="headerlink" title="Build scripts"></a>Build scripts</h3><p>The rebuild.sh content is as bellow, it creates a docker image and copy the jar into it, then run the jar.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">cd</span> ~/docker/agriculture-platform/</span><br><span class="line">sudo docker stop agriculture</span><br><span class="line">sudo docker rm agriculture</span><br><span class="line">sudo docker build --no-cache -t=<span class="string">"hustakin/test"</span> .</span><br><span class="line">sudo docker run -p 80:80 -p 443:443 -v /data/<span class="built_in">log</span>/dev:/logs --name agriculture --restart=always -d hustakin/<span class="built_in">test</span> --param=hello</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Push-code"><a href="#Push-code" class="headerlink" title="Push code"></a>Push code</h3><p>After all the above configurations, now we completely finish the CI process. When we push the code to Bitbucket or Github, the Jenkins will start to maven build the code and transfer the jar to the remote server, then the remote server will rebuild the SpringBoot docker image and recreate the docker container.<br><img src="/2017/09/01/continuous-integration-with-jenkins-and-docker/ci-build.png" alt="CI build"></p>
</body></html>
    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a>
            
              <a href="/tags/Docker/" rel="tag"><i class="fa fa-tag"></i> Docker</a>
            
              <a href="/tags/Jenkins/" rel="tag"><i class="fa fa-tag"></i> Jenkins</a>
            
              <a href="/tags/CI-CD/" rel="tag"><i class="fa fa-tag"></i> CI/CD</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2017/08/31/important-linux-commands/" rel="next" title="Important linux commands">
                  <i class="fa fa-chevron-left"></i> Important linux commands
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2018/03/06/how-to-rent-a-house-in-australia/" rel="prev" title="How to rent a house in Australia">
                  How to rent a house in Australia <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/uploads/avatar.png"
      alt="Frankie Fan">
  <p class="site-author-name" itemprop="name">Frankie Fan</p>
  <div class="site-description motion-element" itemprop="description">Live for die and let it go.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://github.com/hustakin" title="GitHub &rarr; https://github.com/hustakin" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="mailto:hustakin@gmail.com" title="E-Mail &rarr; mailto:hustakin@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://www.linkedin.com/in/hustakin/" title="LinkedIn &rarr; https://www.linkedin.com/in/hustakin/" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://twitter.com/hustakin" title="Twitter &rarr; https://twitter.com/hustakin" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://www.facebook.com/hustakin" title="FB Page &rarr; https://www.facebook.com/hustakin" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i></a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Install"><span class="nav-number">1.</span> <span class="nav-text">Install</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Install-docker"><span class="nav-number">1.1.</span> <span class="nav-text">Install docker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install-docker-compose"><span class="nav-number">1.2.</span> <span class="nav-text">Install docker-compose</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-jenkins-container"><span class="nav-number">1.3.</span> <span class="nav-text">Create jenkins container</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Deploy-SSH-key"><span class="nav-number">1.4.</span> <span class="nav-text">Deploy SSH key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Restart-the-SSH-service"><span class="nav-number">1.5.</span> <span class="nav-text">Restart the SSH service</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins-configuration"><span class="nav-number">2.</span> <span class="nav-text">Jenkins configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Publish-over-SSH-plugin"><span class="nav-number">2.1.</span> <span class="nav-text">Publish over SSH plugin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generate-API-token"><span class="nav-number">2.2.</span> <span class="nav-text">Generate API token</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-maven-project"><span class="nav-number">2.3.</span> <span class="nav-text">Create maven project</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Enable-build-trigger"><span class="nav-number">2.4.</span> <span class="nav-text">Enable build trigger</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Build-maven-commands"><span class="nav-number">2.5.</span> <span class="nav-text">Build maven commands</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#After-build-steps"><span class="nav-number">2.6.</span> <span class="nav-text">After build steps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-webhook-in-Github"><span class="nav-number">2.7.</span> <span class="nav-text">Create webhook in Github</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Try-push-code"><span class="nav-number">2.8.</span> <span class="nav-text">Try push code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configure-global-security"><span class="nav-number">2.9.</span> <span class="nav-text">Configure global security</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deploy-configuration"><span class="nav-number">3.</span> <span class="nav-text">Deploy configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Shell-scripts"><span class="nav-number">3.1.</span> <span class="nav-text">Shell scripts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringBoot-Dockerfile"><span class="nav-number">3.2.</span> <span class="nav-text">SpringBoot Dockerfile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Build-scripts"><span class="nav-number">3.3.</span> <span class="nav-text">Build scripts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Push-code"><span class="nav-number">3.4.</span> <span class="nav-text">Push code</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frankie Fan</span>
</div>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item-icon"><i class="fa fa-user"></i></span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon"><i class="fa fa-eye"></i></span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>


        








        
      </div>
    </footer>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>


  <script src="/js/affix.js?v=7.3.0"></script>
  <script src="/js/schemes/pisces.js?v=7.3.0"></script>



<script src="/js/next-boot.js?v=7.3.0"></script>




  




























  

  

  


  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>


</body>
</html>
